@use "./variables" as *;
@use "./mixins" as *;
@use "./org_table";
@use "./org.scss";

.app-layout {
  display: grid;
  grid-template-columns: var(--sidebar-w, #{$sidebar-w}) 1fr;
  height: 100vh;
  overflow: hidden;

  @media (max-width: $bp-lg) {
    grid-template-columns: 1fr; // mobile â€” sidebar overlay bo'ladi
  }
}

.app-main {
  height: 100vh;
  overflow: auto;
  background: $bg-body;

  .app-header {
    position: sticky;
    top: 0;
    z-index: $z-header;
    height: 60px;
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 0 16px;
    background: $surface;
    border-bottom: 1px solid $border;

    .hamburger {
      @include button-reset;
      width: 38px;
      height: 38px;
      display: grid;
      place-items: center;
      font-size: 18px;
    }
    .brand {
      font-weight: 700;
      letter-spacing: 0.2px;
    }
    .spacer {
      margin-left: auto;
      color: $muted;
      font-size: 13px;
    }
  }

  .app-content {
    padding: 16px;
  }
}

/* Mobile overlay */
.mobile-overlay {
  position: fixed;
  inset: 0;
  z-index: $z-overlay;
  pointer-events: none;

  &__backdrop {
    position: absolute;
    inset: 0;
    background: rgba(16, 24, 40, 0.35);
    opacity: 0;
    transition: 0.2s;
  }
  &__panel {
    position: absolute;
    height: 100vh;
    left: 0;
    top: 0;
  }

  &.is-open {
    pointer-events: auto;
    .mobile-overlay__backdrop {
      opacity: 1;
    }
  }
}
